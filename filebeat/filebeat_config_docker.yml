filebeat.config:
  modules:
    path: /usr/share/filebeat/filebeat.yml
    reload.enabled: false

filebeat.inputs:
- type: log
  enabled: true
  paths:
      - /var/log/nginx/access.log
  fields:
    type: nginx
  fields_under_root: true
  scan_frequency: 5s

filebeat.autodiscover:
  providers:
    - type: docker
      hints.enabled: true

processors:
- add_cloud_metadata: ~

output.logstash:
  hosts: '${LOGSTASH_HOSTS:localhost:9200}'
  username: '${LOGSTASH_USERNAME:}'
  password: '${LOGSTASH_PASSWORD:}'